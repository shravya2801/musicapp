{"ast":null,"code":"import _classCallCheck from \"C:\\\\project\\\\MusicAppMERN-master\\\\MusicAppMERN-master\\\\Music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\project\\\\MusicAppMERN-master\\\\MusicAppMERN-master\\\\Music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\project\\\\MusicAppMERN-master\\\\MusicAppMERN-master\\\\Music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\project\\\\MusicAppMERN-master\\\\MusicAppMERN-master\\\\Music\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\project\\\\MusicAppMERN-master\\\\MusicAppMERN-master\\\\Music\\\\src\\\\containers\\\\App\\\\App.tsx\";\nimport React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport Loading from '../../components/Loading';\nimport PlaylistSelectorView from '../../components/PlaylistSelectorView';\nimport PlaylistView from '../../components/PlaylistView';\nimport SideNavbar from '../../components/SideNavbar';\nimport Search from '../../components/Search/Search';\nimport Recommend from '../../components/Recommend/Recommend';\nimport MainContainer from '../MainContainer';\nimport PlayerContainer from '../PlayerContainer';\nimport * as actions from '../../actions';\nimport store from '../../store';\nimport config from '../../config';\nimport { Background, Section, Wrapper } from './styled';\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      tokenLoaded: false,\n      windowWidth: window.innerWidth - 220\n    };\n    _this.tokenInterval = setInterval(function () {\n      store.dispatch(actions.fetchToken());\n    }, 3500 * 1000);\n\n    _this.handleResize = function (e) {\n      var windowWidth = e.target.innerWidth - 220; // magic number 220 is sidebar width\n\n      _this.setState(function () {\n        return {\n          windowWidth\n        };\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener('resize', this.handleResize);\n      store.dispatch(actions.fetchToken()).then(function () {\n        _this2.setState(function () {\n          return {\n            tokenLoaded: true\n          };\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.handleResize);\n      clearInterval(this.tokenInterval);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.state.tokenLoaded) {\n        return /*#__PURE__*/React.createElement(Loading, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 14\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Provider, {\n        store: store,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Router, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Wrapper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Background, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(SideNavbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Section, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Redirect, {\n        exact: true,\n        from: \"/\",\n        to: \"/browse/featured\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Redirect, {\n        exact: true,\n        from: \"/browse\",\n        to: \"/browse/featured\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/users/:username/playlists/:id\",\n        component: PlaylistView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/playlists/:id\",\n        component: PlaylistView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/albums/:id\",\n        component: PlaylistView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/browse/featured\",\n        render: function render(routeProps) {\n          return /*#__PURE__*/React.createElement(MainContainer, Object.assign({}, routeProps, {\n            windowWidth: _this3.state.windowWidth,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/browse\",\n        render: function render(routeProps) {\n          return /*#__PURE__*/React.createElement(MainContainer, Object.assign({}, routeProps, {\n            windowWidth: _this3.state.windowWidth,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 21\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/view/:id\",\n        render: function render(routeProps) {\n          return /*#__PURE__*/React.createElement(PlaylistSelectorView, Object.assign({}, routeProps, {\n            windowWidth: _this3.state.windowWidth,\n            config: config.category,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 21\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(Search, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/recommend\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(Recommend, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      }), \";\")), /*#__PURE__*/React.createElement(PlayerContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:/project/MusicAppMERN-master/MusicAppMERN-master/Music/src/containers/App/App.tsx"],"names":["React","Component","Provider","BrowserRouter","Router","Redirect","Route","Switch","Loading","PlaylistSelectorView","PlaylistView","SideNavbar","Search","Recommend","MainContainer","PlayerContainer","actions","store","config","Background","Section","Wrapper","App","state","tokenLoaded","windowWidth","window","innerWidth","tokenInterval","setInterval","dispatch","fetchToken","handleResize","e","target","setState","addEventListener","then","removeEventListener","clearInterval","routeProps","category"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\n\nimport Loading from '../../components/Loading';\nimport PlaylistSelectorView from '../../components/PlaylistSelectorView';\nimport PlaylistView from '../../components/PlaylistView';\nimport SideNavbar from '../../components/SideNavbar';\nimport Search from '../../components/Search/Search';\nimport Recommend from '../../components/Recommend/Recommend';\nimport MainContainer from '../MainContainer';\nimport PlayerContainer from '../PlayerContainer';\n\nimport * as actions from '../../actions';\nimport store from '../../store';\n\nimport config from '../../config';\n\nimport { Background, Section, Wrapper } from './styled';\n\nclass App extends Component {\n  state = {\n    tokenLoaded: false,\n    windowWidth: window.innerWidth - 220,\n  };\n\n  // Update the token once an hour\n  tokenInterval = setInterval(() => {\n    store.dispatch(actions.fetchToken());\n  }, 3500 * 1000);\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleResize);\n    store.dispatch(actions.fetchToken()).then(() => {\n      this.setState(() => ({ tokenLoaded: true }));\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n    clearInterval(this.tokenInterval);\n  }\n\n  handleResize = (e: any) => {\n    const windowWidth = e.target.innerWidth - 220; // magic number 220 is sidebar width\n    this.setState(() => ({ windowWidth }));\n  };\n\n  render() {\n    if (!this.state.tokenLoaded) {\n      return <Loading />;\n    }\n\n    return (\n      <Provider store={store}>\n        <Router>\n          <Wrapper>\n            <Background />\n            <SideNavbar />\n            <Section>\n              <Switch>\n                <Redirect exact from=\"/\" to=\"/browse/featured\" />\n                <Redirect exact from=\"/browse\" to=\"/browse/featured\" />\n                <Route\n                  path=\"/users/:username/playlists/:id\"\n                  component={PlaylistView}\n                />\n                <Route\n                  path=\"/playlists/:id\"\n                  component={PlaylistView}\n                />\n                <Route path=\"/albums/:id\" component={PlaylistView} />\n                <Route\n                  path=\"/browse/featured\"\n                  render={routeProps => (\n                    <MainContainer\n                      {...routeProps}\n                      windowWidth={this.state.windowWidth}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/browse\"\n                  render={routeProps => (\n                    <MainContainer\n                      {...routeProps}\n                      windowWidth={this.state.windowWidth}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/view/:id\"\n                  render={routeProps => (\n                    <PlaylistSelectorView\n                      {...routeProps}\n                      windowWidth={this.state.windowWidth}\n                      config={config.category}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/search\"\n                  render={() => <Search />}\n                />\n                <Route\n                  path=\"/recommend\"\n                  render={() => <Recommend />}\n                />;\n              </Switch>\n            </Section>\n            <PlayerContainer />\n          </Wrapper>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}